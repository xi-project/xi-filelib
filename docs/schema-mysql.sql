CREATE TABLE xi_filelib_file (id INT AUTO_INCREMENT NOT NULL, folder_id INT DEFAULT NULL, mimetype VARCHAR(255) NOT NULL, fileprofile VARCHAR(255) NOT NULL, filesize INT DEFAULT NULL, filename VARCHAR(255) NOT NULL, filelink VARCHAR(255) DEFAULT NULL, date_uploaded DATETIME NOT NULL, UNIQUE INDEX UNIQ_E860652454840E92 (filelink), INDEX IDX_E8606524162CB942 (folder_id), UNIQUE INDEX folderid_filename_unique (folder_id, filename), PRIMARY KEY(id)) ENGINE = InnoDB;
CREATE TABLE xi_filelib_folder (id INT AUTO_INCREMENT NOT NULL, parent_id INT DEFAULT NULL, foldername VARCHAR(255) NOT NULL, folderurl VARCHAR(255) NOT NULL, INDEX IDX_A5EA9E8B727ACA70 (parent_id), PRIMARY KEY(id)) ENGINE = InnoDB;
ALTER TABLE xi_filelib_file ADD CONSTRAINT FK_E8606524162CB942 FOREIGN KEY (folder_id) REFERENCES xi_filelib_folder(id);
ALTER TABLE xi_filelib_folder ADD CONSTRAINT FK_A5EA9E8B727ACA70 FOREIGN KEY (parent_id) REFERENCES xi_filelib_folder(id)
